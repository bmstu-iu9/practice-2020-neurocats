(this.webpackJsonpneurocats=this.webpackJsonpneurocats||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports={emptyCard:"CatCard_emptyCard__2-d-g",container:"CatCard_container__3Tl9N",cat:"CatCard_cat__2FnHT",emptyCat:"CatCard_emptyCat__2KMCP",cover:"CatCard_cover__3wmJF",breed:"CatCard_breed__3cq1J",like:"CatCard_like__nCy7G",liked:"CatCard_liked__3CEHg",owner:"CatCard_owner__2Veej",ava:"CatCard_ava__1FD5k",emptyAva:"CatCard_emptyAva__3WGUj",name:"CatCard_name__3-VmT",empty:"CatCard_empty__2y56Z"}},function(e,t,a){e.exports={UserInfo:"UserInfo_UserInfo__2PvjT",ava:"UserInfo_ava__1_Xz5",emptyAva:"UserInfo_emptyAva__ZglMF",avaEdit:"UserInfo_avaEdit__1mZP1",block:"UserInfo_block__18A6v",name:"UserInfo_name__1SeCe",edit:"UserInfo_edit__1mWGD",button1:"UserInfo_button1__1_pNp",button2:"UserInfo_button2__sgwXi",nameChangeField:"UserInfo_nameChangeField__L_AnP"}},function(e,t,a){e.exports={TopBar:"TopBar_TopBar__Uf6wK",item:"TopBar_item__f7VNu",active:"TopBar_active__1zjD6",img:"TopBar_img__5Vc_a",emptyAva:"TopBar_emptyAva__2WGSY",ava:"TopBar_ava__3RiaY",search:"TopBar_search__2Nyq7",searchForm:"TopBar_searchForm__2ulPE"}},,,,,function(e,t,a){e.exports={content:"Settings_content__hKbdp",block:"Settings_block__2hjJ1",button1:"Settings_button1__29VH8",button2:"Settings_button2__1nCcg",button3:"Settings_button3__2AKXr",buttons:"Settings_buttons__1rlC3",item:"Settings_item__3RYkQ",field:"Settings_field__1kmnE",name:"Settings_name__vCc3n"}},,function(e,t,a){e.exports={form:"SignUp_form__5ReCc",item:"SignUp_item__2-odv",inputContainer:"SignUp_inputContainer__2APBh",buttons:"SignUp_buttons__2qFxR",button1:"SignUp_button1__1TtL9",button2:"SignUp_button2__sWKhM",errorMsg:"SignUp_errorMsg__3O4wD"}},function(e,t,a){e.exports={form:"Hello_form__34rzd",buttons:"Hello_buttons__2f2a5",button1:"Hello_button1__1q78P",button2:"Hello_button2__G9EHl",item:"Hello_item__1oHCP"}},,,function(e,t,a){e.exports={content:"NotFound_content__wZ4ua",block:"NotFound_block__1vi3f",number:"NotFound_number__2_Fum",item:"NotFound_item__2N0l3",linkk:"NotFound_linkk__3cryu",photo:"NotFound_photo__2xLib"}},,,function(e,t,a){e.exports={form:"SignIn_form__2OcmC",item:"SignIn_item__31W7J",inputContainer:"SignIn_inputContainer__iUBtX",buttons:"SignIn_buttons__1apoL",button1:"SignIn_button1__19uES",button2:"SignIn_button2__qDnNL"}},,,function(e,t,a){e.exports={container:"SearchForm_container__wZoTy",input:"SearchForm_input__2i_CS",btn:"SearchForm_btn__2lH2-",popup:"SearchForm_popup__-XgH3",chip:"SearchForm_chip__3mp8Z"}},function(e,t,a){e.exports={profile:"Profile_profile__3nciQ",item:"Profile_item__2McS2"}},function(e,t,a){e.exports={OneFile:"OneFolder_OneFile__1EE1b",files:"OneFolder_files__34jh7",card:"OneFolder_card__3yaV7",photo:"OneFolder_photo__1v-m5",name:"OneFolder_name__2cV8z"}},function(e,t,a){e.exports={container:"SearchFeed_container__UJC7u",name:"SearchFeed_name__1uFlQ",header:"SearchFeed_header__cO1t0",controls:"SearchFeed_controls__1Z1Ye",page:"SearchFeed_page__3nARB"}},function(e,t,a){e.exports={container:"FolderFeed_container__3d2hs",name:"FolderFeed_name__3MAQD",header:"FolderFeed_header__3KW-z",controls:"FolderFeed_controls__2TqPm",page:"FolderFeed_page__szF92"}},,function(e,t,a){e.exports=a.p+"static/media/logo.95ef7218.svg"},function(e,t,a){e.exports={block:"MainPage_block__3ESOJ",top:"MainPage_top__5tS8p",name:"MainPage_name__Lb0I2",image:"MainPage_image__2Ln3k"}},function(e,t,a){e.exports={container:"CatsFeed_container__35QJ8",name:"CatsFeed_name__1UcAn",header:"CatsFeed_header__3voRs",controls:"CatsFeed_controls__2BOSR",page:"CatsFeed_page__27mMO"}},,function(e,t,a){e.exports={button:"Button_button__2xajJ",lightButton:"Button_lightButton__1TvI4",darkButton:"Button_darkButton__2VXI4"}},function(e,t,a){e.exports={form:"SignUpSuccess_form__i3ew-",block:"SignUpSuccess_block__2c0n2",item:"SignUpSuccess_item__bwXgJ",inputContainer:"SignUpSuccess_inputContainer__1Jr7F"}},function(e,t,a){e.exports={CatsFeed_Container:"ErrorFeed_CatsFeed_Container__3j0__",FeedBorder:"ErrorFeed_FeedBorder__35WaN",item:"ErrorFeed_item__36eJC"}},function(e,t,a){e.exports={folders:"Folders_folders__3U2c3",row:"Folders_row__39HXY",blocksPink:"Folders_blocksPink__2jLkE",name:"Folders_name__Ge-5R",button1:"Folders_button1__2gzpU"}},function(e,t,a){e.exports={contentPink:"IdentifyBreed_contentPink__tMZBj",controls:"IdentifyBreed_controls__tR0Zg",name:"IdentifyBreed_name__16ZCi"}},,,,,,function(e,t,a){e.exports={popUp:"PopUp_popUp__3gO-e",popUpContent:"PopUp_popUpContent__nwpr-"}},function(e,t,a){e.exports={container:"CatsPage_container__a0NGE",catsGrid:"CatsPage_catsGrid__1PkkA"}},,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/NPxmmcdK6kA.87a546dd.jpg"},function(e,t,a){e.exports={loader:"Loader_loader__1MTsj",spin:"Loader_spin__u7sBX"}},,function(e,t,a){e.exports={content:"ServerError_content__3fwx7"}},,function(e,t,a){e.exports=a(105)},,,,,,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);a(70);var n=a(0),r=a.n(n),c=a(43),o=a.n(c),l=(a(77),a(78),a(79),a(12)),s=a(2),i=r.a.createContext({}),u=i.Provider,m=function(){return Object(n.useContext)(i)},p=a(34),d=a.n(p),_=a(33),v=a.n(_),f=a(4),b=a.n(f),E=a(6),h=a(26),g=a(20),k=a(1),N=a(24),C=a.n(N),O=a(37),y=a.n(O);var j,w,S,x,F,U,I,P,B,T,A,M=function(e){var t=e.className,a=e.type,n=e.onClick,c=e.children;return r.a.createElement("button",{onClick:n,className:"".concat(y.a.button," ").concat("light"===a?y.a.lightButton:y.a.darkButton," ").concat(t)},c)},R=a(44),D=a(61),H=a(62),L=a(19),W=(a(80),a(5)),J=a(3),G=a.n(J),q=(j=W.observable.shallow,w=W.action.bound,S=W.action.bound,x=W.action.bound,F=W.action.bound,U=W.action.bound,I=W.action.bound,P=W.action.bound,B=function(){function e(){Object(D.a)(this,e),Object(R.a)(this,"user",T,this),Object(R.a)(this,"token",A,this),this.interceptors=[];var t=localStorage.getItem("neuro-cats-user");if(t){var a=JSON.parse(t);this.user=a.user,this.token=a.token,this.setupInterceptors(),this.updateUser()}}return Object(H.a)(e,[{key:"signIn",value:function(){var e=Object(E.a)(b.a.mark((function e(t,a){var n,r,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.post("/login",{email:t,password:a});case 3:return n=e.sent,r=n.data,c=r.user,o=r.token,this.user=c,this.token=o,this.saveLocal(),this.setupInterceptors(),e.abrupt("return",!0);case 14:e.prev=14,e.t0=e.catch(0),console.log("Auth Failed:",e.t0);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.get("/logout");case 3:return this.clear(),e.abrupt("return",!0);case 7:e.prev=7,e.t0=e.catch(0),console.log("Logout failed:",e.t0);case 10:return this.clear(),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.user){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,G.a.get("/users/".concat(this.user.id));case 5:t=e.sent,a=t.data,this.user=a,this.saveLocal(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("Update user failed:",e.t0);case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"saveLocal",value:function(){void 0!==this.user&&void 0!==this.token&&localStorage.setItem("neuro-cats-user",JSON.stringify({user:this.user,token:this.token}))}},{key:"setupInterceptors",value:function(){var e=this;this.clearInterceptors(),this.interceptors.push({request:G.a.interceptors.request.use((function(t){return t.headers["X-Auth-Token"]=e.token,t}))}),this.interceptors.push({response:G.a.interceptors.response.use(void 0,(function(t){throw t.isAxiosError&&"401"===t.code&&e.clear(),t}))})}},{key:"clear",value:function(){localStorage.removeItem("neuro-cats-user"),this.user=void 0,this.token=void 0,this.clearInterceptors()}},{key:"clearInterceptors",value:function(){this.interceptors.forEach((function(e){!function(e){return"request"in e}(e)?G.a.interceptors.response.eject(e.response):G.a.interceptors.request.eject(e.request)}))}}]),e}(),T=Object(L.a)(B.prototype,"user",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=Object(L.a)(B.prototype,"token",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(L.a)(B.prototype,"signIn",[w],Object.getOwnPropertyDescriptor(B.prototype,"signIn"),B.prototype),Object(L.a)(B.prototype,"signOut",[S],Object.getOwnPropertyDescriptor(B.prototype,"signOut"),B.prototype),Object(L.a)(B.prototype,"updateUser",[x],Object.getOwnPropertyDescriptor(B.prototype,"updateUser"),B.prototype),Object(L.a)(B.prototype,"saveLocal",[F],Object.getOwnPropertyDescriptor(B.prototype,"saveLocal"),B.prototype),Object(L.a)(B.prototype,"setupInterceptors",[U],Object.getOwnPropertyDescriptor(B.prototype,"setupInterceptors"),B.prototype),Object(L.a)(B.prototype,"clear",[I],Object.getOwnPropertyDescriptor(B.prototype,"clear"),B.prototype),Object(L.a)(B.prototype,"clearInterceptors",[P],Object.getOwnPropertyDescriptor(B.prototype,"clearInterceptors"),B.prototype),B);G.a.defaults.baseURL="http://".concat(window.location.host,"/api");var K={authStore:new q},z=r.a.createContext(K),V=function(e){var t=e.children;return r.a.createElement(z.Provider,{value:K},t)};function X(){var e=Object(n.useContext)(z);if(!e)throw new Error("Store must be provided in top of application");return e}var Z=function(){var e=Object(s.g)(),t=X().authStore.signIn,a=Object(n.useState)({email:"",password:""}),c=Object(k.a)(a,2),o=c[0],l=c[1],i=Object(n.useCallback)((function(e,t){l((function(a){return Object(g.a)(Object(g.a)({},a),{},Object(h.a)({},t,e))}))}),[]),u=Object(n.useCallback)(Object(E.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t(o.email,o.password);case 2:a.sent&&e.push("/");case 4:case"end":return a.stop()}}),a)}))),[e,o,t]);return r.a.createElement("div",{className:C.a.form},r.a.createElement("div",{className:C.a.inputContainer},"E-mail:",r.a.createElement("input",{name:"login",type:"text",className:C.a.item,value:o.email,onChange:function(e){return i(e.target.value,"email")}})),r.a.createElement("div",{className:C.a.inputContainer},"Password: ",r.a.createElement("input",{name:"pass",type:"password",className:C.a.item,value:o.password,onChange:function(e){return i(e.target.value,"password")},onKeyPress:function(e){"Enter"===e.key&&u()}})),r.a.createElement("div",{className:C.a.buttons},r.a.createElement(M,{type:"dark",onClick:u},"Sign in"),r.a.createElement(M,{type:"dark",onClick:function(){return e.push("/signUp")}},"Sign up")))},Y=a(17),Q=a.n(Y);var $=function(){var e=Object(s.g)(),t=Object(n.useState)(""),a=Object(k.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)({name:"",email:"",password:"",repeatPassword:""}),i=Object(k.a)(l,2),u=i[0],m=i[1],p=Object(n.useCallback)((function(e,t){m((function(a){return Object(g.a)(Object(g.a)({},a),{},Object(h.a)({},t,e))}))}),[]),d=Object(n.useCallback)(Object(E.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("try"),u.password===u.repeatPassword){t.next=4;break}return o("Passwords don't match"),t.abrupt("return");case 4:return a="",t.prev=5,t.next=8,G.a.post("/users",{email:u.email,password:u.password,name:u.name});case 8:n=t.sent,console.log(n),a=n.data.code,t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),o(t.t0),console.log(t.t0);case 17:"SUCCESS"===a&&e.push("/signUpSuccess");case 18:case"end":return t.stop()}}),t,null,[[5,13]])}))),[e,u,o]);return r.a.createElement("div",{className:Q.a.form},r.a.createElement("div",{className:Q.a.inputContainer},"Username:",r.a.createElement("input",{type:"text",className:Q.a.item,onChange:function(e){return p(e.target.value,"name")}})),r.a.createElement("div",{className:Q.a.inputContainer},"E-mail:",r.a.createElement("input",{name:"login",type:"text",className:Q.a.item,onChange:function(e){return p(e.target.value,"email")}})),r.a.createElement("div",{className:Q.a.inputContainer},"Password:",r.a.createElement("input",{name:"pass",type:"password",className:Q.a.item,onChange:function(e){return p(e.target.value,"password")}})),r.a.createElement("div",{className:Q.a.inputContainer},"Repeat:",r.a.createElement("input",{name:"pass",type:"password",className:Q.a.item,onChange:function(e){return p(e.target.value,"repeatPassword")}})),c&&r.a.createElement("div",{className:Q.a.errorMsg},c),r.a.createElement("div",{className:Q.a.buttons},r.a.createElement(M,{type:"dark",onClick:d},"Sign up"),r.a.createElement(M,{type:"dark",onClick:function(){return e.push("/signIn")}},"Sign in")))},ee=a(38),te=a.n(ee);var ae=function(){var e=Object(s.g)();return r.a.createElement("div",{className:te.a.form},r.a.createElement("div",{className:te.a.block},r.a.createElement("div",{className:te.a.inputContainer},r.a.createElement("span",null,"Everything is fine!")),r.a.createElement(M,{type:"dark",onClick:function(){return e.push("/signIn")}},"You can log in now")),r.a.createElement(M,{type:"dark",onClick:function(){return e.push("/")}},"MainPage"))},ne=a(18),re=a.n(ne);var ce=function(){var e=Object(s.g)();return r.a.createElement("form",{method:"get",className:re.a.form},r.a.createElement("div",null,"Work description:"),r.a.createElement("div",{className:re.a.item},"The social network was created as part of a summer"),r.a.createElement("div",null,"practice from the Bauman Moscow State"),r.a.createElement("div",null,"Technical University. It allows users to share "),r.a.createElement("div",null,"photos of cats and identify their breed"),r.a.createElement("div",null,"using an embedded neural network."),r.a.createElement("div",{className:re.a.item},"\xa0"),r.a.createElement("div",{className:re.a.item},"Team members:"),r.a.createElement("div",{className:re.a.item},"Yulia Hrobak"),r.a.createElement("div",{className:re.a.item},"Farida Bazartinova"),r.a.createElement("div",{className:re.a.item},"Ilya Getikov"),r.a.createElement("div",{className:re.a.item},"German Kulchitsky"),r.a.createElement("div",{className:re.a.item},"Victor Florya"),r.a.createElement("div",{className:re.a.buttons},r.a.createElement(M,{type:"dark",onClick:function(){return e.push("/signIn")}},"Sign in"),r.a.createElement(M,{type:"dark",onClick:function(){return e.push("/signUp")}},"Sign up")))};var oe=function(){return r.a.createElement("div",{className:d.a.block},r.a.createElement("div",{className:d.a.top},r.a.createElement("img",{className:d.a.image,src:v.a,alt:"logo"}),r.a.createElement("div",{className:d.a.name},"Neuro\u0421ats")),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/signIn",exact:!0},r.a.createElement(Z,null)),r.a.createElement(s.b,{path:"/signUp",exact:!0},r.a.createElement($,null)),r.a.createElement(s.b,{path:"/signUpSuccess",exact:!0},r.a.createElement(ae,null)),r.a.createElement(s.b,{path:"/"},r.a.createElement(ce,null)),r.a.createElement(s.a,{to:"/404"})))},le=a(21),se=a.n(le),ie=a(64),ue=a.n(ie);var me=function(){return r.a.createElement("div",{className:se.a.content},r.a.createElement("div",{className:se.a.number},"404"),r.a.createElement("div",{className:se.a.block},r.a.createElement("div",{className:se.a.words},r.a.createElement("div",{className:se.a.item},"Sorry, page not found"),r.a.createElement(l.c,{to:"/",className:"".concat(se.a.item," ").concat(se.a.linkk)},"Click here and return to home page")),r.a.createElement("img",{className:se.a.photo,src:ue.a,alt:"pht"})))},pe=a(10),de=a.n(pe),_e=a(27),ve=a.n(_e),fe=a(47),be=a.n(fe);function Ee(e,t){return"string"!==typeof e.type&&(!!Reflect.ownKeys(e.type).includes("name")&&(t?e.type.name===ge.name:e.type.name===ke.name))}function he(e){var t=e.position,a=e.className,c=e.closeOnClick,o=e.children,l=Object(n.useState)(!1),s=Object(k.a)(l,2),i=s[0],u=s[1],m=Object(n.useMemo)((function(){if(Ee(o[0],!0)&&Ee(o[1],!1))return[o[0],o[1]];if(Ee(o[0],!1)&&Ee(o[1],!0))return[o[1],o[0]];throw new Error("Error in PopUp props")}),[o]),p=Object(k.a)(m,2),d=p[0],_=p[1],v=Object(n.useCallback)((function(){u((function(e){return!e}))}),[]),f=Object(n.useCallback)((function(){u((function(e){return!e&&e}))}),[]),b=function(){var e=Object(n.useRef)(null);return function(e,t){var a=Object(n.useCallback)((function(a){e.current&&!e.current.contains(a.target)&&t()}),[e,t]);Object(n.useEffect)((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[a])}(e,f),r.a.createElement("div",{className:be.a.popUpContent,ref:e,onClick:function(e){e.preventDefault(),e.stopPropagation(),c&&f()}},_)};return r.a.createElement("div",{className:"".concat(be.a.popUp," ").concat(a),onClick:v,"data-side":t},d,i&&r.a.createElement(b,null))}function ge(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,t)}function ke(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,t)}he.defaultProps={position:"center",closeOnClick:!0};var Ne=he,Ce=["Abyssinian","American Bobtail","American Shorthair","Applehead Siamese","Balinese","Bengal","Birman","Bombay","British Shorthair","Burmese","Calico","Chartreux","Cornish Rex","Devon Rex","Dilute Calico","Dilute Tortoiseshell","Domestic Long Hair","Domestic Medium Hair","Domestic Short Hair","Egyptian Mau","Exotic Shorthair","Extra-Toes Cat - Hemingway Polydactyl","Havana","Himalayan","Korat","Maine Coon","Manx","Munchkin","Nebelung","Norwegian Forest Cat","Ocicat","Oriental Short Hair","Oriental Tabby","Persian","Pixiebob","Ragamuffin","Ragdoll","Russian Blue","Scottish Fold","Selkirk Rex","Siamese","Siberian","Snowshoe","Sphynx - Hairless Cat","Tabby","Tiger","Tonkinese","Torbie","Tortoiseshell","Turkish Angora","Turkish Van","Tuxedo"];var Oe=function(e){var t=e.className,a=Object(s.g)(),c=Object(n.useState)(""),o=Object(k.a)(c,2),l=o[0],i=o[1],u=Object(n.useCallback)((function(){var e=l;return i(""),-1!==Ce.findIndex((function(t){return t===e}))?a.push("/breed/".concat(e)):a.push("/breed")}),[l,a,i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{className:"".concat(ve.a.container," ").concat(t)},r.a.createElement(ge,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:ve.a.input,type:"text",value:l,onChange:function(e){return i(e.target.value)},placeholder:"Search"}),r.a.createElement("button",{className:ve.a.btn,onClick:u},r.a.createElement("i",{className:"fas fa-search"})))),r.a.createElement(ke,null,r.a.createElement("div",{className:"".concat(ve.a.popup," ").concat(t)},Ce.filter((function(e){return-1!==e.search(new RegExp(l+""))})).map((function(e,t){return r.a.createElement("div",{key:t,className:ve.a.chip,onClick:function(){i(e)}},r.a.createElement("span",null,e))}))))))};var ye=function(){var e=m();return r.a.createElement("ul",{className:de.a.TopBar},r.a.createElement("li",null,r.a.createElement(l.c,{to:"/",className:de.a.item,activeClassName:de.a.active},v.a?r.a.createElement("img",{src:v.a,className:de.a.img,alt:"logo"}):r.a.createElement("div",{className:de.a.emptyAva}),r.a.createElement("span",null,"Neurocats"))),r.a.createElement("li",{className:de.a.search},r.a.createElement(Oe,{className:de.a.searchForm})),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/".concat(e.id),className:de.a.item,activeClassName:de.a.active},r.a.createElement("span",null,e.name),e.photoUrl?r.a.createElement("img",{className:"".concat(de.a.img," ").concat(de.a.ava," ").concat(e.photoUrl?"":de.a.empty),src:"http://localhost:5000/api".concat(e.photoUrl),alt:"ava"}):r.a.createElement("div",{className:de.a.emptyAva}))))},je=a(35),we=a.n(je);function Se(e){var t=Object(n.useState)({loading:!0}),a=Object(k.a)(t,2),r=a[0],c=a[1],o=Object(n.useCallback)(Object(E.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c((function(e){return{loading:!0,result:e.result}})),t.prev=1,t.next=4,e();case 4:a=t.sent,c({result:a,loading:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),c({error:t.t0,loading:!1});case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),[e]);return Object(n.useEffect)((function(){o().then()}),[o]),Object(n.useMemo)((function(){return Object(g.a)(Object(g.a)({},r),{},{refetch:o})}),[r,o])}var xe=a(65),Fe=a.n(xe);var Ue=function(){return r.a.createElement("div",{className:Fe.a.loader})},Ie=a(39),Pe=a.n(Ie);var Be=function(){return r.a.createElement("div",{className:Pe.a.CatsFeed_Container},r.a.createElement("div",{className:Pe.a.FeedBorder},r.a.createElement("div",{className:Pe.a.item},"Sorry, there are no cats here. We took them to comb their hair.")))},Te=a(48),Ae=a.n(Te),Me=a(8),Re=a.n(Me),De=a(22);var He=function(e){var t=e.ownerId,a=Object(De.a)({url:"/users/".concat(t)}),n=Object(k.a)(a,1)[0],c=n.data,o=n.loading,s=n.error;return o||!c||s?r.a.createElement("div",{className:Re.a.owner}):r.a.createElement(l.b,{className:Re.a.owner,to:c?"/".concat(c.id):"/neurocats"},c.photoUrl?r.a.createElement("img",{className:"".concat(Re.a.img," ").concat(Re.a.ava," ").concat(c.photoUrl?"":Re.a.empty),src:"http://localhost:5000/api".concat(c.photoUrl),alt:"ava"}):r.a.createElement("div",{className:Re.a.emptyAva}),r.a.createElement("span",{className:Re.a.name},c.name))};var Le=function(){return r.a.createElement("div",{className:Re.a.emptyCard})};var We=function(e){var t=Object(n.useState)(e.cat),a=Object(k.a)(t,2),c=a[0],o=a[1],l=m(),s=Object(De.a)({url:"/cat/".concat(c.id)},{manual:!0}),i=Object(k.a)(s,2)[1],u=Object(n.useCallback)(Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.patch("/cat/".concat(c.id,"/like"),l);case 3:return e.next=5,i();case 5:t=e.sent,a=t.data,o(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[i,c,l]),p=Object(n.useCallback)(Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.patch("/cat/".concat(c.id,"/unlike"),l);case 3:return e.next=5,i();case 5:t=e.sent,a=t.data,o(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[i,c,l]);return e.cat?r.a.createElement("div",{className:Re.a.container},r.a.createElement("img",{className:"".concat(Re.a.cat," ").concat(c.photoUrl?"":Re.a.emptyCat),src:"http://localhost:5000/api".concat(c.photoUrl),alt:"cat"}),r.a.createElement("div",{className:Re.a.cover}),r.a.createElement("div",{className:Re.a.breed},r.a.createElement("span",null,c.breed)),r.a.createElement("div",{className:"".concat(Re.a.like," ").concat(c.likes.includes(l.id)?Re.a.liked:""),onClick:c.likes.includes(l.id)?p:u},r.a.createElement("i",{className:"fas fa-heart"}),r.a.createElement("span",null,"\xa0",c.likes.length)),c.owner&&r.a.createElement(He,{ownerId:c.owner})):r.a.createElement(Le,null)};var Je=function(e){var t=e.cats;return r.a.createElement("div",{className:Ae.a.container},r.a.createElement("div",{className:Ae.a.catsGrid},t.map((function(e){return r.a.createElement(We,{key:e.id,cat:e})}))))};var Ge=function(){var e=Object(n.useState)(0),t=Object(k.a)(e,2),a=t[0],c=t[1],o=Se(Object(n.useCallback)((function(){return G.a.get("/cats",{params:{offset:15*a,limit:15}})}),[a])),l=o.result,s=o.loading,i=o.error;if(s)return r.a.createElement(Ue,null);if(!l||i||!l.data.length)return r.a.createElement("div",null,r.a.createElement(Be,null));var u=l.data;return r.a.createElement("div",{className:we.a.container},r.a.createElement("div",{className:we.a.header},r.a.createElement("div",{className:we.a.controls},r.a.createElement(M,{type:"dark",onClick:function(){return c(a>0?a-1:0)}},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("div",{className:we.a.page},a+1),r.a.createElement(M,{type:"dark",onClick:function(){return c(a+1)}},r.a.createElement("i",{className:"fas fa-arrow-right"})))),r.a.createElement(Je,{cats:u.slice(0,15)}))},qe=a(28),Ke=a.n(qe),ze=a(40),Ve=a.n(ze),Xe=a(29),Ze=a.n(Xe);var Ye=function(e){var t=e.id,a=e.breed,c=Se(Object(n.useCallback)((function(){return G.a.get("/users/".concat(t,"/cats/").concat(a),{params:{limit:4}})}),[t,a])),o=c.result,s=c.loading,i=c.error;if(s)return r.a.createElement(Ue,null);if(!o||i||!o.data.length)return r.a.createElement("div",null,"Error...");var u=o.data;return r.a.createElement(l.b,{to:"/".concat(t,"/folder/").concat(a),className:Ze.a.OneFile},r.a.createElement("div",{className:Ze.a.files},u.map((function(e,t){return r.a.createElement("div",{key:t,className:Ze.a.card},r.a.createElement("img",{className:"".concat(Ze.a.photo),src:"http://localhost:5000/api".concat(e.photoUrl),alt:"catPhoto"}))}))),r.a.createElement("div",{className:Ze.a.name},"".concat(a.slice(0,26)).concat(a.length>26?"...":"")))},Qe=a(67),$e=a.n(Qe);var et=function(e){var t=e.message;return r.a.createElement("div",{className:$e.a.content},"ServerError: ",t,".")};var tt=function(e){var t,a=e.userId,c=Se(Object(n.useCallback)((function(){return G.a.get("/users/".concat(a,"/folder"))}),[a])),o=c.result,l=c.loading,s=c.error;if(void 0===o&&l)return r.a.createElement(Ue,null);if(void 0===o||s)return r.a.createElement(et,{message:null!==(t=null===s||void 0===s?void 0:s.message)&&void 0!==t?t:"undefined folders"});var i=o.data.filter((function(e){return""!==e}));return r.a.createElement("div",{className:Ve.a.blocksPink},r.a.createElement("div",{className:Ve.a.name},"Folders:"),r.a.createElement("div",{className:Ve.a.folders},i.map((function(e,t){return r.a.createElement(Ye,{key:t,id:a,breed:e})}))))},at=a(9),nt=a.n(at);var rt=function(e){var t=e.isOwn,a=e.user,c=e.refetchUser,o=Object(n.useState)(!1),l=Object(k.a)(o,2),s=l[0],i=l[1],u=Object(n.useState)(a.name),m=Object(k.a)(u,2),p=m[0],d=m[1],_=Object(n.useCallback)(Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===p){e.next=11;break}return e.prev=1,e.next=4,G.a.patch("/users/".concat(a.id),{name:p});case 4:return e.next=6,c();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[c,p,a.id]),v=Object(n.useCallback)((function(){var e=document.createElement("input");e.type="file",e.style.display="none",e.accept="image/*",document.body.appendChild(e),e.click(),e.onchange=Object(E.a)(b.a.mark((function t(){var n,r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null===(n=e.files)||void 0===n?void 0:n.item(0)){t.next=3;break}return t.abrupt("return");case 3:return(o=new FormData).append("file",r),t.prev=5,t.next=8,G.a.post("/users/".concat(a.id,"/photo"),o);case 8:return t.next=10,c();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.log(t.t0);case 15:document.body.removeChild(e);case 16:case"end":return t.stop()}}),t,null,[[5,12]])})))}),[a.id,c]);return r.a.createElement("div",{className:nt.a.UserInfo},r.a.createElement("div",{className:nt.a.ava},a.photoUrl?r.a.createElement("img",{className:"".concat(nt.a.img," ").concat(nt.a.ava," ").concat(a.photoUrl?"":nt.a.empty),src:"http://localhost:5000/api".concat(a.photoUrl),alt:"ava"}):r.a.createElement("div",{className:nt.a.emptyAva}),t&&r.a.createElement("div",{className:nt.a.avaEdit,onClick:v},r.a.createElement("span",null,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))),r.a.createElement("div",{className:nt.a.block},s?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",className:"".concat(nt.a.nameChangeField," ").concat(nt.a.edit),value:p,onChange:function(e){return d(e.target.value)}}),r.a.createElement("button",{className:nt.a.button1,onClick:function(){i(!1),_()}},r.a.createElement("div",{className:nt.a.save},"Save"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:nt.a.name},"@",a.name),t&&r.a.createElement("button",{className:nt.a.button2,onClick:function(){i(!0)}},r.a.createElement("i",{className:"fa fa-edit"})))))},ct=a(41),ot=a.n(ct);var lt=function(e){var t=e.userId,a=Object(n.useState)(0),c=Object(k.a)(a,2),o=c[0],l=c[1],s=Object(De.a)({url:"/cat/".concat(o)},{manual:!o}),i=Object(k.a)(s,1)[0],u=i.data,m=i.loading,p=i.error,d=Object(n.useCallback)((function(){var e=document.createElement("input");e.type="file",e.style.display="none",e.accept="image/*",document.body.appendChild(e),e.click(),e.onchange=Object(E.a)(b.a.mark((function a(){var n,r,c,o;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=null===(n=e.files)||void 0===n?void 0:n.item(0)){a.next=3;break}return a.abrupt("return");case 3:return(c=new FormData).append("file",r),a.prev=5,a.next=8,G.a.post("/cat/".concat(t),c);case 8:o=a.sent,console.log(o.data.id),l(o.data.id),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(5),l(0),console.log(a.t0);case 17:document.body.removeChild(e);case 18:case"end":return a.stop()}}),a,null,[[5,13]])})))}),[t,l]),_=Object(n.useMemo)((function(){if(o){if(m)return r.a.createElement(Ue,null);if(!p&&u)return r.a.createElement(We,{cat:u})}return r.a.createElement(Le,null)}),[o,m,p,u]);return r.a.createElement("div",{className:ot.a.contentPink},r.a.createElement("div",{className:ot.a.controls},r.a.createElement("div",{className:ot.a.name},"Identify the breed"),r.a.createElement(M,{type:"light",onClick:d},"Add photo")),_)},st=a(15),it=a.n(st);var ut=function(e){var t=e.email,a=m(),c=Object(n.useState)(!1),o=Object(k.a)(c,2),l=o[0],s=o[1],i=Object(n.useState)(""),u=Object(k.a)(i,2),p=u[0],d=u[1],_=Object(n.useState)(""),v=Object(k.a)(_,2),f=v[0],h=v[1],g=Object(n.useState)(""),N=Object(k.a)(g,2),C=N[0],O=N[1],y=Object(n.useState)(""),j=Object(k.a)(y,2),w=j[0],S=j[1],x=Object(n.useCallback)(Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C!==w){e.next=10;break}return e.prev=1,e.next=4,G.a.patch("/users/".concat(a.id),{email:p,password:C});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:s(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),[p,C,f,w,s,a.id]);return r.a.createElement("div",{className:it.a.content},l?r.a.createElement("div",{className:it.a.block},r.a.createElement("div",null,"Settings"),r.a.createElement("div",{className:it.a.item},"E-mail: ",t),r.a.createElement("div",null,r.a.createElement("div",{className:it.a.item},"Enter new address:"),r.a.createElement("input",{type:"text",className:it.a.field,onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("div",{className:it.a.item},"Enter old password:"),r.a.createElement("input",{type:"password",className:it.a.field,onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("div",{className:it.a.item},"Enter new password:"),r.a.createElement("input",{type:"password",className:it.a.field,onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("div",{className:it.a.item},"Repeat new password:"),r.a.createElement("input",{type:"password",className:it.a.field,onChange:function(e){return S(e.target.value)}})),r.a.createElement("div",{className:it.a.buttons},r.a.createElement(M,{type:"dark",onClick:x},"Save"),r.a.createElement(M,{type:"dark",onClick:function(){return s(!1)}},"Close"))):r.a.createElement(M,{type:"dark",onClick:function(){return s(!0)}},"Settings"))};var mt=function(){var e,t=Object(s.h)(),a=m(),c=Object(n.useMemo)((function(){return t.id===a.id.toString()}),[t.id,a.id]),o=X().authStore,l=o.updateUser,i=o.signOut,u=Object(n.useState)(c?a:void 0),p=Object(k.a)(u,2),d=p[0],_=p[1],v=Object(De.a)({url:"/users/".concat(t.id)},{manual:c}),f=Object(k.a)(v,1)[0],b=f.data,E=f.loading,h=f.error;return Object(n.useEffect)((function(){_(c?a:b)}),[b,c,a]),void 0===d&&E?r.a.createElement(Ue,null):void 0===d&&h?r.a.createElement(et,{message:null!==(e=null===h||void 0===h?void 0:h.message)&&void 0!==e?e:"undefined user"}):d?r.a.createElement("div",{className:Ke.a.profile},r.a.createElement("div",{className:Ke.a.item},r.a.createElement(rt,{isOwn:c,user:d,refetchUser:l})),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ke.a.item},r.a.createElement(ut,{email:d.email})),r.a.createElement(M,{type:"dark",onClick:i},"Sign Out"),r.a.createElement("div",{className:Ke.a.item},r.a.createElement(lt,{userId:d.id}))),r.a.createElement("div",{className:Ke.a.item},r.a.createElement(tt,{userId:d.id}))):r.a.createElement("div",null,"Error")},pt=a(30),dt=a.n(pt);var _t=function(){var e=Object(s.h)(),t=Object(n.useState)(0),a=Object(k.a)(t,2),c=a[0],o=a[1],l=Se(Object(n.useCallback)((function(){return G.a.get("/cats/".concat(e.breed),{params:{offset:15*c,limit:15}})}),[e,c])),i=l.result,u=l.loading,m=l.error;if(u)return r.a.createElement(Ue,null);if(!i||m||!i.data.length)return r.a.createElement("div",null,r.a.createElement(Be,null));var p=i.data;return r.a.createElement("div",{className:dt.a.container},r.a.createElement("div",{className:dt.a.header},r.a.createElement("span",{className:dt.a.name},e.breed),r.a.createElement("div",{className:dt.a.controls},r.a.createElement(M,{type:"dark",onClick:function(){return o(c>0?c-1:0)}},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("div",{className:dt.a.page},c+1),r.a.createElement(M,{type:"dark",onClick:function(){return o(c+1)}},r.a.createElement("i",{className:"fas fa-arrow-right"})))),r.a.createElement(Je,{cats:p.slice(0,15)}))},vt=a(31),ft=a.n(vt);var bt=function(){var e=Object(s.h)(),t=Object(n.useState)(0),a=Object(k.a)(t,2),c=a[0],o=a[1],l=Se(Object(n.useCallback)((function(){return G.a.get("/users/".concat(e.id,"/cats/").concat(e.breed),{params:{offset:15*c,limit:15}})}),[e,c])),i=l.result,u=l.loading,m=l.error;if(u)return r.a.createElement(Ue,null);if(!i||m||!i.data.length)return r.a.createElement("div",null,r.a.createElement(Be,null));var p=i.data;return r.a.createElement("div",{className:ft.a.container},r.a.createElement("div",{className:ft.a.header},r.a.createElement("div",{className:ft.a.name},r.a.createElement("span",null,e.id),r.a.createElement("span",null," > "),r.a.createElement("span",null,e.breed)),r.a.createElement("div",{className:ft.a.controls},r.a.createElement(M,{type:"dark",onClick:function(){return o(c>0?c-1:0)}},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("div",{className:ft.a.page},c+1),r.a.createElement(M,{type:"dark",onClick:function(){return o(c+1)}},r.a.createElement("i",{className:"fas fa-arrow-right"})))),r.a.createElement(Je,{cats:p.slice(0,15)}))};var Et=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ye,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/breed/:breed",exact:!0},r.a.createElement(_t,null)),r.a.createElement(s.b,{path:"/breed",exact:!0},r.a.createElement(Be,null)),r.a.createElement(s.b,{path:"/:id/folder/:breed",exact:!0},r.a.createElement(bt,null)),r.a.createElement(s.b,{path:"/:id",exact:!0},r.a.createElement(mt,null)),r.a.createElement(s.b,{path:"/"},r.a.createElement(Ge,null)),r.a.createElement(s.a,{to:"/404"})))},ht=a(68);var gt=Object(ht.a)((function(){var e=X().authStore.user;return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/404",exact:!0},r.a.createElement(me,null)),e?r.a.createElement(u,{value:Object(W.toJS)(e)},r.a.createElement(Et,null)):r.a.createElement(oe,null),r.a.createElement(s.a,{to:"/404"}))))})),kt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Nt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null,r.a.createElement(gt,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");kt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Nt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Nt(t,e)}))}}()}],[[69,1,2]]]);
//# sourceMappingURL=main.98774949.chunk.js.map