{"version":3,"sources":["Components/CatCard/CatCard.module.css","Components/Profile/UserInfo/UserInfo.module.css","Components/TopBar/TopBar.module.css","Components/Profile/Settings/Settings.module.css","Components/SignInSignUp/SignUp/SignUp.module.css","Components/Hello/Hello.module.css","Components/404/NotFound.module.css","Components/SignInSignUp/SignIn/SignIn.module.css","Components/TopBar/SearchForm/SearchForm.module.css","Components/Profile/Profile.module.css","Components/Profile/Folders/OneFolder/OneFolder.module.css","Components/SearchFeed/SearchFeed.module.css","Components/FolderFeed/FolderFeed.module.css","logo.svg","Components/SignInSignUp/MainPage.module.css","Components/CatsFeed/CatsFeed.module.css","Components/Button/Button.module.css","Components/SignInSignUp/SignUpSuccess/SignUpSuccess.module.css","Components/CatsPage/ErrorFeed.module.css","Components/Profile/Folders/Folders.module.css","Components/Profile/IdentifyBreed/IdentifyBreed.module.css","Components/PopUp/PopUp.module.css","Components/CatsPage/CatsPage.module.css","Components/404/NPxmmcdK6kA.jpg","Components/Loader/Loader.module.css","Components/ServerError/ServerError.module.css","context.tsx","Components/Button/Button.tsx","store/AuthStore/AuthStore.ts","store/store.tsx","Components/SignInSignUp/SignIn/SignIn.tsx","Components/SignInSignUp/SignUp/SignUp.tsx","Components/SignInSignUp/SignUpSuccess/SignUpSuccess.tsx","Components/Hello/Hello.tsx","Components/SignInSignUp/MainPage.tsx","Components/404/404.tsx","Components/PopUp/PopUp.tsx","helps/useOutsideClick.ts","Components/TopBar/SearchForm/SearchForm.tsx","Components/TopBar/TopBar.tsx","helps/useAsync.ts","Components/Loader/Loader.tsx","Components/CatsPage/ErrorFeed.tsx","Components/CatCard/Owner.tsx","Components/CatCard/EmptyCatCard.tsx","Components/CatCard/CatCard.tsx","Components/CatsPage/CatsPage.tsx","Components/CatsFeed/CatsFeed.tsx","Components/Profile/Folders/OneFolder/OneFolder.tsx","Components/ServerError/ServerError.tsx","Components/Profile/Folders/Folders.tsx","Components/Profile/UserInfo/UserInfo.tsx","Components/Profile/IdentifyBreed/IdentifyBreed.tsx","Components/Profile/Settings/Settings.tsx","Components/Profile/Profile.tsx","Components/SearchFeed/SearchFeed.tsx","Components/FolderFeed/FolderFeed.tsx","Components/MainApp.tsx","Components/App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","UserContext","React","createContext","UserProvider","Provider","useUser","useContext","Button","className","type","onClick","children","classes","button","lightButton","darkButton","AuthStore","observable","shallow","action","bound","interceptors","userData","localStorage","getItem","json","JSON","parse","this","user","token","setupInterceptors","updateUser","email","password","Axios","post","data","saveLocal","console","log","get","clear","undefined","id","setItem","stringify","clearInterceptors","push","request","use","value","headers","response","error","isAxiosError","code","removeItem","forEach","interceptor","isRequestInterceptor","eject","defaults","baseURL","window","location","host","stores","authStore","StoresContext","StoresProvider","useStores","Error","SignIn","history","useHistory","signIn","useState","form","setForm","onFormChange","useCallback","name","signInCallback","a","inputContainer","item","onChange","e","target","onKeyPress","key","buttons","SignUp","setError","repeatPassword","signUpCallback","ok","res","errorMsg","SignUpSuccess","block","Hello","method","MainPage","top","image","src","logo","alt","path","exact","to","NotFound","content","number","words","linkk","photo","isPopupElement","el","trigger","Reflect","ownKeys","includes","PopUpTrigger","PopUpContent","PopUp","position","closeOnClick","visibility","setVisibility","useMemo","triggerAction","prevState","onClose","PopupContent","ref","useRef","wrapper","handler","handleOutsideClick","ev","current","contains","useEffect","document","addEventListener","removeEventListener","useOutsideClick","popUpContent","event","preventDefault","stopPropagation","popUp","data-side","defaultProps","breeds","SearchForm","searchText","setSearchText","search","findIndex","container","input","placeholder","btn","popup","filter","RegExp","map","ind","chip","TopBar","activeClassName","active","img","emptyAva","searchForm","photoUrl","ava","empty","useAsync","call","loading","setData","fetch","prev","result","then","refetch","Loader","loader","ErrorFeed","CatsFeed_Container","FeedBorder","Owner","ownerId","useAxios","url","owner","loadOwner","errorOwner","EmptyCatCard","emptyCard","CatCard","props","cat","setCat","myUser","manual","refetchCat","like","patch","newCat","unLike","emptyCat","cover","breed","likes","liked","length","CatsPage","cats","catsGrid","CatsFeed","page","setPage","params","offset","limit","header","controls","slice","OneFolder","OneFile","files","i","card","ServerError","message","Folders","userId","folders","blocksPink","UserInfo","isOwn","refetchUser","editState","setEditState","newName","setNewName","changeName","changeAvatar","createElement","style","display","accept","body","appendChild","click","onchange","file","FormData","append","removeChild","avaEdit","nameChangeField","edit","button1","save","button2","IdentifyBreed","resCard","setResCard","uploadPhoto","contentPink","Settings","address","setAddress","oldPassword","setOldPassword","setPassword","repeatPass","setRepeatPass","saveChanges","field","Profile","useParams","toString","signOut","setUser","profile","SearchFeed","FolderFeed","MainApp","observer","toJS","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","getElementById","URL","process","href","origin","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.98774949.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"emptyCard\":\"CatCard_emptyCard__2-d-g\",\"container\":\"CatCard_container__3Tl9N\",\"cat\":\"CatCard_cat__2FnHT\",\"emptyCat\":\"CatCard_emptyCat__2KMCP\",\"cover\":\"CatCard_cover__3wmJF\",\"breed\":\"CatCard_breed__3cq1J\",\"like\":\"CatCard_like__nCy7G\",\"liked\":\"CatCard_liked__3CEHg\",\"owner\":\"CatCard_owner__2Veej\",\"ava\":\"CatCard_ava__1FD5k\",\"emptyAva\":\"CatCard_emptyAva__3WGUj\",\"name\":\"CatCard_name__3-VmT\",\"empty\":\"CatCard_empty__2y56Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserInfo\":\"UserInfo_UserInfo__2PvjT\",\"ava\":\"UserInfo_ava__1_Xz5\",\"emptyAva\":\"UserInfo_emptyAva__ZglMF\",\"avaEdit\":\"UserInfo_avaEdit__1mZP1\",\"block\":\"UserInfo_block__18A6v\",\"name\":\"UserInfo_name__1SeCe\",\"edit\":\"UserInfo_edit__1mWGD\",\"button1\":\"UserInfo_button1__1_pNp\",\"button2\":\"UserInfo_button2__sgwXi\",\"nameChangeField\":\"UserInfo_nameChangeField__L_AnP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TopBar\":\"TopBar_TopBar__Uf6wK\",\"item\":\"TopBar_item__f7VNu\",\"active\":\"TopBar_active__1zjD6\",\"img\":\"TopBar_img__5Vc_a\",\"emptyAva\":\"TopBar_emptyAva__2WGSY\",\"ava\":\"TopBar_ava__3RiaY\",\"search\":\"TopBar_search__2Nyq7\",\"searchForm\":\"TopBar_searchForm__2ulPE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Settings_content__hKbdp\",\"block\":\"Settings_block__2hjJ1\",\"button1\":\"Settings_button1__29VH8\",\"button2\":\"Settings_button2__1nCcg\",\"button3\":\"Settings_button3__2AKXr\",\"buttons\":\"Settings_buttons__1rlC3\",\"item\":\"Settings_item__3RYkQ\",\"field\":\"Settings_field__1kmnE\",\"name\":\"Settings_name__vCc3n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SignUp_form__5ReCc\",\"item\":\"SignUp_item__2-odv\",\"inputContainer\":\"SignUp_inputContainer__2APBh\",\"buttons\":\"SignUp_buttons__2qFxR\",\"button1\":\"SignUp_button1__1TtL9\",\"button2\":\"SignUp_button2__sWKhM\",\"errorMsg\":\"SignUp_errorMsg__3O4wD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Hello_form__34rzd\",\"buttons\":\"Hello_buttons__2f2a5\",\"button1\":\"Hello_button1__1q78P\",\"button2\":\"Hello_button2__G9EHl\",\"item\":\"Hello_item__1oHCP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"NotFound_content__wZ4ua\",\"block\":\"NotFound_block__1vi3f\",\"number\":\"NotFound_number__2_Fum\",\"item\":\"NotFound_item__2N0l3\",\"linkk\":\"NotFound_linkk__3cryu\",\"photo\":\"NotFound_photo__2xLib\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SignIn_form__2OcmC\",\"item\":\"SignIn_item__31W7J\",\"inputContainer\":\"SignIn_inputContainer__iUBtX\",\"buttons\":\"SignIn_buttons__1apoL\",\"button1\":\"SignIn_button1__19uES\",\"button2\":\"SignIn_button2__qDnNL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SearchForm_container__wZoTy\",\"input\":\"SearchForm_input__2i_CS\",\"btn\":\"SearchForm_btn__2lH2-\",\"popup\":\"SearchForm_popup__-XgH3\",\"chip\":\"SearchForm_chip__3mp8Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__3nciQ\",\"item\":\"Profile_item__2McS2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OneFile\":\"OneFolder_OneFile__1EE1b\",\"files\":\"OneFolder_files__34jh7\",\"card\":\"OneFolder_card__3yaV7\",\"photo\":\"OneFolder_photo__1v-m5\",\"name\":\"OneFolder_name__2cV8z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SearchFeed_container__UJC7u\",\"name\":\"SearchFeed_name__1uFlQ\",\"header\":\"SearchFeed_header__cO1t0\",\"controls\":\"SearchFeed_controls__1Z1Ye\",\"page\":\"SearchFeed_page__3nARB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FolderFeed_container__3d2hs\",\"name\":\"FolderFeed_name__3MAQD\",\"header\":\"FolderFeed_header__3KW-z\",\"controls\":\"FolderFeed_controls__2TqPm\",\"page\":\"FolderFeed_page__szF92\"};","module.exports = __webpack_public_path__ + \"static/media/logo.95ef7218.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"MainPage_block__3ESOJ\",\"top\":\"MainPage_top__5tS8p\",\"name\":\"MainPage_name__Lb0I2\",\"image\":\"MainPage_image__2Ln3k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CatsFeed_container__35QJ8\",\"name\":\"CatsFeed_name__1UcAn\",\"header\":\"CatsFeed_header__3voRs\",\"controls\":\"CatsFeed_controls__2BOSR\",\"page\":\"CatsFeed_page__27mMO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2xajJ\",\"lightButton\":\"Button_lightButton__1TvI4\",\"darkButton\":\"Button_darkButton__2VXI4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SignUpSuccess_form__i3ew-\",\"block\":\"SignUpSuccess_block__2c0n2\",\"item\":\"SignUpSuccess_item__bwXgJ\",\"inputContainer\":\"SignUpSuccess_inputContainer__1Jr7F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CatsFeed_Container\":\"ErrorFeed_CatsFeed_Container__3j0__\",\"FeedBorder\":\"ErrorFeed_FeedBorder__35WaN\",\"item\":\"ErrorFeed_item__36eJC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"folders\":\"Folders_folders__3U2c3\",\"row\":\"Folders_row__39HXY\",\"blocksPink\":\"Folders_blocksPink__2jLkE\",\"name\":\"Folders_name__Ge-5R\",\"button1\":\"Folders_button1__2gzpU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentPink\":\"IdentifyBreed_contentPink__tMZBj\",\"controls\":\"IdentifyBreed_controls__tR0Zg\",\"name\":\"IdentifyBreed_name__16ZCi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popUp\":\"PopUp_popUp__3gO-e\",\"popUpContent\":\"PopUp_popUpContent__nwpr-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CatsPage_container__a0NGE\",\"catsGrid\":\"CatsPage_catsGrid__1PkkA\"};","module.exports = __webpack_public_path__ + \"static/media/NPxmmcdK6kA.87a546dd.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1MTsj\",\"spin\":\"Loader_spin__u7sBX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ServerError_content__3fwx7\"};","import React, {useContext} from \"react\";\nimport {User} from \"./store/AuthStore/types\";\n\nconst UserContext = React.createContext<User>({} as User);\nexport const UserProvider = UserContext.Provider;\n\nexport const useUser = () => useContext(UserContext);\n","import React, {ReactElement} from \"react\";\nimport classes from \"./Button.module.css\"\n\ninterface Props {\n    className?: string;\n    type: \"light\" | \"dark\";\n    onClick: () => void;\n    children: string | ReactElement;\n}\n\nfunction Button({className, type, onClick, children} : Props) {\n    return (\n        <button onClick={onClick} className={`${classes.button} ${type === \"light\" ? classes.lightButton : classes.darkButton} ${className}`}>\n            {children}\n        </button>\n    );\n}\n\nexport default Button;","import {action, observable} from \"mobx\";\nimport {LoginResponse, User} from \"./types\";\nimport Axios, {AxiosError} from \"axios\";\n\nconst AUTH_USER_KEY = \"neuro-cats-user\";\n\ntype RequestInterceptor = { request: number; };\ntype ResponseInterceptor = { response: number; };\n\ntype Interceptor = RequestInterceptor | ResponseInterceptor;\n\nexport class AuthStore {\n    @observable.shallow user?: User;\n    @observable token?: string;\n    private interceptors: Interceptor[] = [];\n\n    constructor() {\n        const userData = localStorage.getItem(AUTH_USER_KEY);\n        if (userData) {\n            const json = JSON.parse(userData) as LoginResponse;\n            this.user = json.user;\n            this.token = json.token;\n            this.setupInterceptors();\n            this.updateUser();\n        }\n    }\n\n    @action.bound\n    async signIn(email: string, password: string): Promise<boolean> {\n        try {\n            const {data: {user, token}} = await Axios.post<LoginResponse>(\"/login\", {\n                email: email,\n                password: password\n            });\n\n            this.user = user;\n            this.token = token;\n            this.saveLocal();\n            this.setupInterceptors();\n            return true;\n        } catch (e) {\n            console.log(\"Auth Failed:\", e);\n        }\n        return false;\n    }\n\n    @action.bound\n    async signOut(): Promise<boolean> {\n        try {\n            await Axios.get(\"/logout\");\n            this.clear();\n            return true;\n        } catch (e) {\n            console.log(\"Logout failed:\", e);\n        }\n        //return false;\n        this.clear();\n        return true;\n    }\n\n    @action.bound\n    async updateUser(): Promise<void> {\n        if (this.user === undefined) return;\n        try {\n            const {data: user} = await Axios.get<User>(`/users/${this.user.id}`);\n            this.user = user;\n            this.saveLocal();\n        } catch (e) {\n            console.log(\"Update user failed:\", e);\n        }\n    }\n\n    @action.bound\n    saveLocal() {\n        if (this.user === undefined || this.token === undefined) return;\n        localStorage.setItem(AUTH_USER_KEY, JSON.stringify({user: this.user, token: this.token}));\n    }\n\n    @action.bound\n    setupInterceptors() {\n        this.clearInterceptors();\n\n        this.interceptors.push({\n            request: Axios.interceptors.request.use(value => {\n                value.headers[\"X-Auth-Token\"] = this.token;\n                return value;\n            })\n        });\n\n        this.interceptors.push({\n            response: Axios.interceptors.response.use(undefined, error => {\n                if (isAxiosError(error)) {\n                    if (error.code === \"401\") {\n                        this.clear();\n                    }\n                }\n\n                throw error;\n            })\n        });\n    }\n\n    @action.bound\n    clear() {\n        localStorage.removeItem(AUTH_USER_KEY);\n        this.user = undefined;\n        this.token = undefined;\n\n       this.clearInterceptors();\n    }\n\n    @action.bound\n    clearInterceptors() {\n        this.interceptors.forEach(interceptor => {\n            if (isRequestInterceptor(interceptor)) {\n                Axios.interceptors.request.eject(interceptor.request);\n            } else {\n                Axios.interceptors.response.eject(interceptor.response);\n            }\n        });\n    }\n}\n\nfunction isAxiosError(e: any): e is AxiosError {\n    return e.isAxiosError;\n}\n\nfunction isRequestInterceptor(interceptor: Interceptor): interceptor is RequestInterceptor {\n    return \"request\" in interceptor;\n}\n\nfunction isResponseInterceptor(interceptor: Interceptor): interceptor is ResponseInterceptor {\n    return \"response\" in interceptor;\n}","import React, {FC, useContext} from \"react\";\nimport {AuthStore} from \"./AuthStore/AuthStore\";\nimport Axios from \"axios\";\n\nif (process.env.NODE_ENV !== \"production\") {\n    Axios.defaults.baseURL = \"http://localhost:5000/api\";\n} else {\n    Axios.defaults.baseURL = `http://${window.location.host}/api`;\n}\n\nconst stores = {\n    authStore: new AuthStore()\n};\n\nconst StoresContext = React.createContext(stores);\n\nexport const StoresProvider: FC = ({children}) => <StoresContext.Provider value={stores}>{children}</StoresContext.Provider>;\n\nexport function useStores() {\n    const stores = useContext(StoresContext);\n\n    if (!stores) throw new Error(\"Store must be provided in top of application\")\n\n    return stores;\n}","import React, {useCallback, useState} from \"react\";\nimport classes from \"./SignIn.module.css\"\nimport Button from \"../../Button/Button\";\nimport {useHistory} from \"react-router\";\nimport {useStores} from \"../../../store/store\";\n\ninterface Form {\n    email: string;\n    password: string;\n}\n\nfunction SignIn() {\n    const history = useHistory();\n    const {authStore} = useStores();\n    const {signIn} = authStore;\n\n    const [form, setForm] = useState<Form>({\n        email: \"\",\n        password: \"\"\n    });\n\n    const onFormChange = useCallback((value: string, name: keyof Form) => {\n        setForm(form => ({...form, [name]: value}));\n    }, []);\n\n    const signInCallback = useCallback(async () => {\n        const ok = await signIn(form.email, form.password);\n        if (ok) {\n            history.push(\"/\");\n        }\n    }, [history, form, signIn]);\n\n    return (\n        <div className={classes.form}>\n            <div className={classes.inputContainer}>\n                E-mail:\n                <input name=\"login\" type=\"text\" className={classes.item} value={form.email}\n                       onChange={e => onFormChange(e.target.value, \"email\")}/>\n            </div>\n            <div className={classes.inputContainer}>\n                Password: <input name=\"pass\" type=\"password\" className={classes.item} value={form.password}\n                                 onChange={e => onFormChange(e.target.value, \"password\")}\n                                 onKeyPress={e => {\n                                     if (e.key === \"Enter\") {\n                                         signInCallback();\n                                     }\n                                 }}\n            />\n            </div>\n\n            <div className={classes.buttons}>\n                <Button type={\"dark\"} onClick={signInCallback}>Sign in</Button>\n                <Button type={\"dark\"} onClick={() => history.push(\"/signUp\")}>Sign up</Button>\n            </div>\n        </div>\n    );\n}\n\nexport default SignIn;\n","import React, {useCallback, useState} from \"react\";\nimport classes from \"./SignUp.module.css\"\nimport Button from \"../../Button/Button\";\nimport {useHistory} from \"react-router\";\nimport Axios from \"axios\";\n\ninterface Form {\n    name: string;\n    email: string;\n    password: string;\n    repeatPassword: string;\n}\n\nfunction SignUp() {\n    const history = useHistory();\n\n    const [error, setError] = useState(\"\");\n    const [form, setForm] = useState<Form>({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        repeatPassword: \"\",\n    });\n\n    const onFormChange = useCallback((value: string, name: keyof Form) => {\n        setForm(form => ({...form, [name]: value}));\n    }, []);\n\n    const signUpCallback = useCallback(async () => {\n        console.log(\"try\");\n        if (form.password !== form.repeatPassword) {\n            setError(\"Passwords don't match\");\n            return;\n        }\n        let ok = \"\";\n        try {\n            const res = await Axios.post(`/users`, {\n                email: form.email,\n                password: form.password,\n                name: form.name,\n            });\n            console.log(res);\n            ok = res.data.code;\n        } catch (e) {\n            setError(e);\n            console.log(e);\n        }\n        if (ok === \"SUCCESS\") {\n            history.push(\"/signUpSuccess\");\n        }\n    }, [history, form, setError]);\n\n    return (\n        <div className={classes.form}>\n            <div className={classes.inputContainer}>\n                Username:\n                <input type=\"text\" className={classes.item}\n                       onChange={e => onFormChange(e.target.value, \"name\")}/>\n            </div>\n            <div className={classes.inputContainer}>\n                E-mail:\n                <input name=\"login\" type=\"text\" className={classes.item}\n                       onChange={e => onFormChange(e.target.value, \"email\")}/>\n            </div>\n            <div className={classes.inputContainer}>\n                Password:\n                <input name=\"pass\" type=\"password\" className={classes.item}\n                       onChange={e => onFormChange(e.target.value, \"password\")}/>\n            </div>\n            <div className={classes.inputContainer}>\n                Repeat:\n                <input name=\"pass\" type=\"password\" className={classes.item}\n                       onChange={e => onFormChange(e.target.value, \"repeatPassword\")}/>\n            </div>\n            {error &&\n                <div className={classes.errorMsg}>{error}</div>\n            }\n            <div className={classes.buttons}>\n                <Button type={\"dark\"} onClick={signUpCallback}>Sign up</Button>\n                <Button type={\"dark\"} onClick={() => history.push(\"/signIn\")}>Sign in</Button>\n            </div>\n        </div>\n    );\n}\n\nexport default SignUp;\n","import React from \"react\";\nimport classes from \"./SignUpSuccess.module.css\"\nimport Button from \"../../Button/Button\";\nimport {useHistory} from \"react-router\";\n\nfunction SignUpSuccess() {\n    const history = useHistory();\n\n    return (\n        <div className={classes.form}>\n            <div className={classes.block}>\n                <div className={classes.inputContainer}>\n                    <span>Everything is fine!</span>\n                </div>\n                <Button type={\"dark\"} onClick={() => history.push(\"/signIn\")}>You can log in now</Button>\n            </div>\n            <Button type={\"dark\"} onClick={() => history.push(\"/\")}>MainPage</Button>\n        </div>\n    );\n}\n\nexport default SignUpSuccess;\n","import React from \"react\";\nimport classes from \"./Hello.module.css\";\nimport Button from \"../Button/Button\";\nimport {useHistory} from \"react-router\";\n\nfunction Hello() {\n    const history = useHistory();\n\n    return (\n        <form method=\"get\" className={classes.form}>\n            <div>Work description:</div>\n            <div className={classes.item}>The social network was created as part of a summer</div>\n            <div>practice from the Bauman Moscow State</div>\n            <div>Technical University. It allows users to share </div>\n            <div>photos of cats and identify their breed</div>\n            <div>using an embedded neural network.</div>\n            <div className={classes.item}>&nbsp;</div>\n            <div className={classes.item}>Team members:</div>\n            <div className={classes.item}>Yulia Hrobak</div>\n            <div className={classes.item}>Farida Bazartinova</div>\n            <div className={classes.item}>Ilya Getikov</div>\n            <div className={classes.item}>German Kulchitsky</div>\n            <div className={classes.item}>Victor Florya</div>\n            <div className={classes.buttons}>\n                <Button type={\"dark\"} onClick={() => history.push(\"/signIn\")}>Sign in</Button>\n                <Button type={\"dark\"} onClick={() => history.push(\"/signUp\")}>Sign up</Button>\n            </div>\n        </form>\n    );\n}\n\nexport default Hello;\n","import React from \"react\";\nimport classes from \"./MainPage.module.css\"\nimport logo from \"../../logo.svg\"\nimport SignIn from \"./SignIn/SignIn\";\nimport {Redirect, Route, Switch} from \"react-router-dom\";\nimport SignUp from \"./SignUp/SignUp\";\nimport SignUpSuccess from \"./SignUpSuccess/SignUpSuccess\";\nimport Hello from \"../Hello/Hello\";\n\n\nfunction MainPage() {\n    return (\n        <div className={classes.block}>\n            <div className={classes.top}>\n                <img className={classes.image} src={logo} alt=\"logo\"/>\n                <div className={classes.name}>NeuroСats</div>\n            </div>\n            <Switch>\n                <Route path={\"/signIn\"} exact><SignIn/></Route>\n                <Route path={\"/signUp\"} exact><SignUp/></Route>\n                <Route path={\"/signUpSuccess\"} exact><SignUpSuccess/></Route>\n                <Route path={\"/\"}><Hello/></Route>\n                <Redirect to={\"/404\"}/>\n            </Switch>\n        </div>\n    );\n}\n\nexport default MainPage;\n","import React from \"react\";\nimport classes from \"./NotFound.module.css\"\nimport photo from \"./NPxmmcdK6kA.jpg\"\nimport { NavLink } from \"react-router-dom\";\n\nfunction NotFound() {\n    return (\n        <div className={classes.content}>\n            <div className={classes.number}>404</div>\n            <div className={classes.block}>\n                <div className={classes.words}>\n                    <div className={classes.item}>Sorry, page not found</div>\n                    <NavLink to=\"/\" className={`${classes.item} ${classes.linkk}`}>Click here and return to home page</NavLink>\n                </div>\n                <img className={classes.photo} src={photo} alt=\"pht\"/>\n            </div>\n            \n        </div>\n    );\n}\n\nexport default NotFound;","import React, {ReactElement, ReactNode, useCallback, useMemo, useRef, useState, MouseEvent} from \"react\";\nimport classes from \"./PopUp.module.css\"\nimport {useOutsideClick} from \"../../helps/useOutsideClick\";\n\ninterface Props {\n    position?: \"left\" | \"center\" | \"right\";\n    closeOnClick?: boolean;\n    className: string,\n    children: [ReactElement, ReactElement];\n}\n\nconst defaultProps: Partial<Props> = {\n    position: \"center\",\n    closeOnClick: true,\n};\n\nfunction isPopupElement(el: ReactElement, trigger: boolean) {\n    if (typeof el.type === \"string\") return false;\n    if (Reflect.ownKeys(el.type).includes(\"name\")) {\n        if (trigger) return el.type.name === PopUpTrigger.name;\n        else return el.type.name === PopUpContent.name;\n    }\n    return false;\n}\n\nfunction PopUp({ position, className, closeOnClick, children }: Props) {\n    const [visibility, setVisibility] = useState(false);\n\n    const [trigger, content] = useMemo(() => {\n        if (isPopupElement(children[0], true) && isPopupElement(children[1], false))\n            return [children[0], children[1]];\n        else if (\n            isPopupElement(children[0], false) &&\n            isPopupElement(children[1], true)\n        )\n            return [children[1], children[0]];\n        else throw new Error(\"Error in PopUp props\");\n    }, [children]);\n\n    const triggerAction = useCallback(() => {\n        setVisibility((prevState) => !prevState);\n    }, []);\n\n    const onClose = useCallback(() => {\n        setVisibility((prevState) => (prevState ? false : prevState));\n    }, []);\n\n    const PopupContent = () => {\n        const ref = useRef<HTMLDivElement>(null);\n        useOutsideClick(ref, onClose);\n        return (\n            <div\n                className={classes.popUpContent}\n                ref={ref}\n                onClick={(event: MouseEvent) => {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    if (closeOnClick) onClose();\n                }}\n            >\n                {content}\n            </div>\n        );\n    };\n\n    return (\n        <div className={`${classes.popUp} ${className}`} onClick={triggerAction} data-side={position}>\n            {trigger}\n            {visibility && <PopupContent />}\n        </div>\n    );\n}\n\nPopUp.defaultProps = defaultProps;\n\nexport function PopUpTrigger({ children }: { children: ReactNode }) {\n    return <>{children}</>;\n}\n\nexport function PopUpContent({ children }: { children: ReactNode }) {\n    return <>{children}</>;\n}\n\nexport default PopUp;","import {RefObject, useCallback, useEffect} from \"react\";\n\nexport function useOutsideClick(wrapper: RefObject<any>, handler: () => void) {\n    const handleOutsideClick = useCallback(\n        (ev: MouseEvent) => {\n            if (wrapper.current && !wrapper.current.contains(ev.target as Node)) {\n                handler();\n            }\n        },\n        [wrapper, handler],\n    );\n    useEffect(() => {\n        document.addEventListener(\"click\", handleOutsideClick);\n        return () => {\n            document.removeEventListener(\"click\", handleOutsideClick);\n        };\n    }, [handleOutsideClick]);\n}","import React, {useCallback, useState} from \"react\";\nimport classes from \"./SearchForm.module.css\";\nimport PopUp, {PopUpContent, PopUpTrigger} from \"../../PopUp/PopUp\";\nimport {useHistory} from \"react-router\";\n\ninterface Props {\n    className?: string\n}\n\nconst breeds = [\n    \"Abyssinian\",\n    \"American Bobtail\",\n    \"American Shorthair\",\n    \"Applehead Siamese\",\n    \"Balinese\",\n    \"Bengal\",\n    \"Birman\",\n    \"Bombay\",\n    \"British Shorthair\",\n    \"Burmese\",\n    \"Calico\",\n    \"Chartreux\",\n    \"Cornish Rex\",\n    \"Devon Rex\",\n    \"Dilute Calico\",\n    \"Dilute Tortoiseshell\",\n    \"Domestic Long Hair\",\n    \"Domestic Medium Hair\",\n    \"Domestic Short Hair\",\n    \"Egyptian Mau\",\n    \"Exotic Shorthair\",\n    \"Extra-Toes Cat - Hemingway Polydactyl\",\n    \"Havana\",\n    \"Himalayan\",\n    \"Korat\",\n    \"Maine Coon\",\n    \"Manx\",\n    \"Munchkin\",\n    \"Nebelung\",\n    \"Norwegian Forest Cat\",\n    \"Ocicat\",\n    \"Oriental Short Hair\",\n    \"Oriental Tabby\",\n    \"Persian\",\n    \"Pixiebob\",\n    \"Ragamuffin\",\n    \"Ragdoll\",\n    \"Russian Blue\",\n    \"Scottish Fold\",\n    \"Selkirk Rex\",\n    \"Siamese\",\n    \"Siberian\",\n    \"Snowshoe\",\n    \"Sphynx - Hairless Cat\",\n    \"Tabby\",\n    \"Tiger\",\n    \"Tonkinese\",\n    \"Torbie\",\n    \"Tortoiseshell\",\n    \"Turkish Angora\",\n    \"Turkish Van\",\n    \"Tuxedo\",\n];\n\nfunction SearchForm({className}: Props) {\n    const history = useHistory();\n\n    const [searchText, setSearchText] = useState(\"\");\n\n    const search = useCallback(() => {\n        let res = searchText;\n        setSearchText(\"\");\n        if (breeds.findIndex(el => (el === res)) !== -1)\n            return history.push(`/breed/${res}`);\n        else\n            return history.push(`/breed`);\n    }, [searchText, history, setSearchText]);\n\n    return (\n        <>\n            <PopUp className={`${classes.container} ${className}`}>\n                <PopUpTrigger>\n                    <>\n                        <input className={classes.input} type=\"text\" value={searchText} onChange={ev => setSearchText(ev.target.value)} placeholder=\"Search\"/>\n                        <button className={classes.btn} onClick={search}>\n                            <i className=\"fas fa-search\"/>\n                        </button>\n                    </>\n                </PopUpTrigger>\n                <PopUpContent>\n                    <div className={`${classes.popup} ${className}`}>\n                        {breeds.filter(el => el.search(new RegExp(searchText + \"\")) !== -1).map((el, ind) =>\n                            <div key={ind} className={classes.chip} onClick={() => {setSearchText(el)}}>\n                                <span>{el}</span>\n                            </div>\n                        )}\n                    </div>\n                </PopUpContent>\n            </PopUp>\n        </>\n    );\n}\n\nexport default SearchForm;","import React from \"react\";\nimport classes from \"./TopBar.module.css\";\nimport logo from \"../../logo.svg\";\nimport { NavLink } from 'react-router-dom';\nimport SearchForm from \"./SearchForm/SearchForm\";\nimport {useUser} from \"../../context\";\n\nfunction TopBar() {\n    const user = useUser();\n\n    return (\n        <ul className = { classes.TopBar } >\n            <li>\n                <NavLink\n                    to='/'\n                    className={classes.item}\n                    activeClassName={classes.active}\n                >\n                    { logo ?\n                        <img src={logo} className={classes.img} alt=\"logo\"/>\n                        :\n                        <div className={classes.emptyAva}/>\n                    }\n                    <span>Neurocats</span>\n                </NavLink>\n            </li>\n            <li className={classes.search}>\n                <SearchForm className={classes.searchForm}/>\n            </li>\n            <li>\n                <NavLink\n                    to={`/${user.id}`}\n                    className={classes.item}\n                    activeClassName={classes.active}>\n                    <span>{user.name}</span>\n                    {user.photoUrl ?\n                        <img\n                        className={`${classes.img} ${classes.ava} ${user.photoUrl ? \"\" : classes.empty}`}\n                        src={`http://localhost:5000/api${user.photoUrl}`} alt={\"ava\"}/>\n                        :\n                        <div className={classes.emptyAva}/>\n                    }\n                </NavLink>\n            </li>\n      </ul >\n    );\n}\n\nexport default TopBar;","import {useCallback, useEffect, useMemo, useState} from \"react\";\n\ninterface AsyncData<T> {\n    result?: T;\n    loading: boolean;\n    error?: Error;\n}\n\ntype useAsyncReturnType<T> =  AsyncData<T> & {refetch: () => void};\n\nexport function useAsync<T>(call: () => Promise<T>): useAsyncReturnType<T> {\n    const [data, setData] = useState<AsyncData<T>>({\n        loading: true\n    });\n\n    const fetch = useCallback(async () => {\n        setData(prev => ({\n            loading: true,\n            result: prev.result\n        }));\n        try {\n            const res = await call();\n            setData({\n                result: res,\n                loading: false\n            });\n        } catch (e) {\n            setData({\n                error: e,\n                loading: false\n            });\n        }\n    }, [call]);\n\n    useEffect(() => {\n        fetch().then();\n    }, [fetch]);\n\n    return useMemo((): useAsyncReturnType<T> => ({\n        ...data,\n        refetch: fetch\n    }), [data, fetch]);\n}","import React from \"react\";\nimport classes from \"./Loader.module.css\"\n\nfunction Loader(){\n    return(\n        <div className={classes.loader}>\n        </div>\n    );\n}\n\nexport default Loader;","import React from \"react\";\nimport classes from \"./ErrorFeed.module.css\";\n\nfunction ErrorFeed() {\n\n    return (\n        <div className={classes.CatsFeed_Container}>\n            <div className={classes.FeedBorder}>\n                <div className={classes.item}>Sorry, there are no cats here. We took them to comb their hair.</div>\n            </div>\n        </div>\n    )\n}\n\nexport default ErrorFeed;","import classes from \"./CatCard.module.css\";\nimport {Link} from \"react-router-dom\";\nimport React from \"react\";\nimport useAxios from \"axios-hooks\";\nimport {User} from \"../../store/AuthStore/types\";\n\ninterface Props {\n    ownerId: number;\n}\n\nfunction Owner({ownerId}: Props) {\n\n    // data loading (owner)\n    // const {result: ownerData, loading: loadOwner, error: errorOwner} = useAsync(useCallback(\n    //     () => Axios.get<User>(`/users/${ownerId}`), [ownerId]));\n    const [{data: owner, loading: loadOwner, error: errorOwner}] = useAxios<User>({\n        url: `/users/${ownerId}`\n    });\n\n    if (loadOwner) return <div className={classes.owner}/>;\n    if (!owner || errorOwner) return <div className={classes.owner}/>;\n\n    return (\n        <Link className={classes.owner} to={owner ? `/${owner.id}` : \"/neurocats\"}>\n            {owner.photoUrl ?\n                <img\n                    className={`${classes.img} ${classes.ava} ${owner.photoUrl ? \"\" : classes.empty}`}\n                    src={`http://localhost:5000/api${owner.photoUrl}`} alt={\"ava\"}/>\n                :\n                <div className={classes.emptyAva}/>\n            }\n            <span className={classes.name}>{owner.name}</span>\n        </Link>\n    )\n}\n\nexport default Owner;","import classes from \"./CatCard.module.css\";\nimport React from \"react\";\n\nfunction EmptyCatCard() {\n    return <div className={classes.emptyCard}/>\n}\n\nexport default EmptyCatCard;","import React, {useCallback, useState} from \"react\";\nimport classes from \"./CatCard.module.css\";\nimport {CatsPhoto} from \"../../types\";\nimport Axios from \"axios\";\nimport {useUser} from \"../../context\";\nimport Owner from \"./Owner\";\nimport useAxios from \"axios-hooks\";\nimport EmptyCatCard from \"./EmptyCatCard\";\n\ninterface Props {\n    cat: CatsPhoto,\n}\n\nfunction CatCard(props: Props) {\n    const [cat, setCat] = useState(props.cat);\n    const myUser = useUser();\n\n    const [, refetchCat] = useAxios<CatsPhoto>({\n        url: `/cat/${cat.id}`\n    }, {\n        manual: true\n    });\n\n    const like = useCallback(async () => {\n        try {\n            await Axios.patch(`/cat/${cat.id}/like`, myUser);\n            const {data: newCat} = await refetchCat();\n            setCat(newCat);\n        } catch (e) {\n            console.log(e);\n        }\n    }, [refetchCat, cat, myUser]);\n    const unLike = useCallback(async () => {\n        try {\n            await Axios.patch(`/cat/${cat.id}/unlike`, myUser);\n            const {data: newCat} = await refetchCat();\n            setCat(newCat);\n        } catch (e) {\n            console.log(e);\n        }\n    }, [refetchCat, cat, myUser]);\n\n    if (!props.cat) return <EmptyCatCard/>\n\n    return (\n        <div className={classes.container}>\n            <img\n                className={`${classes.cat} ${cat.photoUrl ? \"\" : classes.emptyCat}`}\n                src={`http://localhost:5000/api${cat.photoUrl}`} alt={\"cat\"}\n            />\n            <div className={classes.cover} />\n            <div className={classes.breed}>\n                <span>{cat.breed}</span>\n            </div>\n            <div className={`${classes.like} ${cat.likes.includes(myUser.id) ? classes.liked : \"\"}`} onClick={cat.likes.includes(myUser.id) ? unLike : like}>\n                <i className=\"fas fa-heart\" />\n                <span>&nbsp;{cat.likes.length}</span>\n            </div>\n            {cat.owner && <Owner ownerId={cat.owner}/>}\n        </div>\n    )\n}\n\nexport default CatCard;","import classes from \"./CatsPage.module.css\";\nimport React from \"react\";\nimport CatCard from \"../CatCard/CatCard\";\nimport {CatsPhoto} from \"../../types\";\n\ninterface Props {\n    cats: CatsPhoto[];\n}\n\nfunction CatsPage({cats}: Props) {\n\n    return (\n        <div className={classes.container}>\n            <div className={classes.catsGrid}>\n                {\n                    cats.map(cat => <CatCard key={cat.id} cat={cat}/>)\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default CatsPage;","import React, {useCallback, useState} from \"react\";\nimport classes from \"./CatsFeed.module.css\";\nimport Axios from \"axios\";\nimport {useAsync} from \"../../helps/useAsync\";\nimport Loader from \"../Loader/Loader\";\nimport ErrorFeed from \"../CatsPage/ErrorFeed\";\nimport CatsPage from \"../CatsPage/CatsPage\";\nimport Button from \"../Button/Button\";\nimport {CatsPhoto} from \"../../types\";\n\nfunction CatsFeed() {\n    const [page, setPage] = useState(0);\n\n    // data loading (cats)\n    const {result, loading, error} = useAsync(useCallback(\n        () => Axios.get<CatsPhoto[]>(`/cats`, {\n            params: {\n                offset: (page * 15),\n                limit: 15\n            }\n        }), [page]));\n    if (loading) return <Loader/>;\n    if (!result || error || !result.data.length) return <div><ErrorFeed/></div>;\n\n    const {data: cats} = result;\n\n    return (\n        <div className={classes.container}>\n            <div className={classes.header}>\n                <div className={classes.controls}>\n                    <Button type={\"dark\"} onClick={() => setPage((page > 0 ? page - 1 : 0))}>\n                        <i className=\"fas fa-arrow-left\"/>\n                    </Button>\n                    <div className={classes.page}>{page + 1}</div>\n                    <Button type={\"dark\"} onClick={() => setPage(page + 1)}>\n                        <i className=\"fas fa-arrow-right\"/>\n                    </Button>\n                </div>\n            </div>\n            <CatsPage cats={cats.slice(0, 15)}/>\n        </div>\n    )\n}\n\nexport default CatsFeed;","import React, {useCallback} from \"react\";\nimport classes from \"./OneFolder.module.css\"\nimport {Link} from \"react-router-dom\";\nimport {useAsync} from \"../../../../helps/useAsync\";\nimport Axios from \"axios\";\nimport {CatsPhoto} from \"../../../../types\";\nimport Loader from \"../../../Loader/Loader\";\n\ninterface Props {\n    id: number,\n    breed: string,\n}\n\nfunction OneFolder({id, breed}: Props) {\n\n    // data loading (cats)\n    const {result, loading, error} = useAsync(useCallback(\n        () => Axios.get<CatsPhoto[]>(`/users/${id}/cats/${breed}`, {\n            params: {\n                limit: 4\n            }\n        }), [id, breed]));\n\n    if (loading) return <Loader/>;\n    if (!result || error || !result.data.length) return <div>Error...</div>;\n\n    const {data: cats} = result;\n\n    return (\n        <Link to={`/${id}/folder/${breed}`} className={classes.OneFile}>\n            <div className={classes.files}>\n                {cats.map((e, i) => <div key={i} className={classes.card}>\n                    <img\n                        className={`${classes.photo}`}\n                        src={`http://localhost:5000/api${e.photoUrl}`} alt={\"catPhoto\"}\n                    />\n                </div>)}\n                {\n\n                }\n            </div>\n            <div className={classes.name}>{`${breed.slice(0, 26)}${(breed.length > 26) ? \"...\" : \"\"}`}</div>\n        </Link>\n    );\n}\n\nexport default OneFolder;","import React from \"react\";\nimport classes from \"./ServerError.module.css\"\n\ninterface Props {\n    message: string;\n}\n\nfunction ServerError({message} : Props){\n    return(\n        <div className={classes.content}>\n            ServerError: {message}.\n        </div>\n    );\n}\n\nexport default ServerError;","import React, {useCallback} from \"react\";\nimport classes from \"./Folders.module.css\"\nimport OneFolder from \"./OneFolder/OneFolder\"\nimport {useAsync} from \"../../../helps/useAsync\";\nimport Axios from \"axios\";\nimport Loader from \"../../Loader/Loader\";\nimport ServerError from \"../../ServerError/ServerError\";\n\ninterface Props {\n    userId: number,\n}\n\nfunction Folders({userId}: Props) {\n\n    // data loading (userFolders)\n    const {result, loading, error} = useAsync(useCallback(() => Axios.get<string[]>(`/users/${userId}/folder`), [userId]));\n\n    if (result === undefined && loading) return <Loader/>;\n    if (result === undefined || error) return <ServerError message={error?.message ?? \"undefined folders\"}/>;\n\n    const folders = result.data.filter(el => (el !== \"\")); // filter to check backend errors\n\n    return (\n        <div className={classes.blocksPink} >\n            <div className={classes.name}>Folders:</div>\n            <div className={classes.folders}>\n                {\n                    folders.map((el, id) => <OneFolder key={id} id={userId} breed={el}/>)\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default Folders;","import React, {useCallback, useState} from \"react\";\nimport classes from \"./UserInfo.module.css\"\nimport Axios from \"axios\";\nimport {User} from \"../../../store/AuthStore/types\";\n\ninterface Props {\n    isOwn: boolean\n    user: User,\n    refetchUser: () => void\n}\n\nfunction UserInfo({isOwn, user, refetchUser}: Props) {\n    const [editState, setEditState] = useState(false);\n    const [newName, setNewName] = useState(user.name);\n\n    const changeName = useCallback(async () => {\n        if (newName !== '') {\n            try {\n                await Axios.patch(`/users/${user.id}`, {\n                    name: newName,\n                });\n                await refetchUser();\n            } catch (e) {\n                console.log(e);\n            }\n        }\n    }, [refetchUser, newName, user.id]);\n\n    const changeAvatar = useCallback(() => {\n        const input: HTMLInputElement = document.createElement(\"input\");\n        input.type = \"file\";\n        input.style.display = \"none\";\n        input.accept = \"image/*\";\n        document.body.appendChild(input);\n\n        input.click();\n        input.onchange = async () => {\n            const file = input.files?.item(0);\n            if (!file) return;\n            const form = new FormData();\n            form.append(\"file\", file);\n            try {\n                await Axios.post(`/users/${user.id}/photo`, form);\n                await refetchUser();\n            } catch (e) {\n                console.log(e);\n            }\n            document.body.removeChild(input);\n        };\n    }, [user.id, refetchUser]);\n\n\n    return (\n        <div className={classes.UserInfo}>\n            <div className={classes.ava}>\n                {user.photoUrl ?\n                    <img\n                        className={`${classes.img} ${classes.ava} ${user.photoUrl ? \"\" : classes.empty}`}\n                        src={`http://localhost:5000/api${user.photoUrl}`} alt={\"ava\"}/>\n                    :\n                    <div className={classes.emptyAva}/>\n                }\n                {isOwn &&\n                    <div className={classes.avaEdit} onClick={changeAvatar}>\n                        <span>Изменить</span>\n                    </div>\n                }\n            </div>\n            <div className={classes.block}>\n                {editState ?\n                    <>\n                        <input\n                            type=\"text\"\n                            className={`${classes.nameChangeField} ${classes.edit}`}\n                            value={newName}\n                            onChange={e => setNewName(e.target.value)}\n                        />\n                        <button className={classes.button1}\n                                onClick={() => { setEditState(false); changeName(); }}>\n                            <div className={classes.save}>Save</div>\n                        </button>\n                    </>\n                    :\n                    <>\n                        <div className={classes.name}>@{user.name}</div>\n                        {isOwn &&\n                            <button className={classes.button2} onClick={() => { setEditState(true) }}>\n                                <i className=\"fa fa-edit\"/>\n                            </button>\n                        }\n                    </>\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default UserInfo;\n","import React, {useCallback, useMemo, useState} from \"react\";\nimport classes from \"./IdentifyBreed.module.css\"\nimport Axios from \"axios\";\nimport Button from \"../../Button/Button\";\nimport CatCard from \"../../CatCard/CatCard\";\nimport EmptyCatCard from \"../../CatCard/EmptyCatCard\";\nimport useAxios from \"axios-hooks\";\nimport {CatsPhoto} from \"../../../types\";\nimport Loader from \"../../Loader/Loader\";\n\ninterface Props {\n    userId: number;\n}\n\nfunction IdentifyBreed({userId} : Props) {\n\n    const [resCard, setResCard] = useState(0);\n\n    // data loading (user)\n    const [{data: cat, loading, error}] = useAxios<CatsPhoto>({url: `/cat/${resCard}`}, {manual: !resCard});\n\n    const uploadPhoto = useCallback(() => {\n        const input: HTMLInputElement = document.createElement(\"input\");\n        input.type = \"file\";\n        input.style.display = \"none\";\n        input.accept = \"image/*\";\n        document.body.appendChild(input);\n\n        input.click();\n        input.onchange = async () => {\n            const file = input.files?.item(0);\n            if (!file) return;\n            const form = new FormData();\n            form.append(\"file\", file);\n            try {\n                let res = await Axios.post(`/cat/${userId}`, form);\n                console.log(res.data.id);\n                setResCard(res.data.id);\n            } catch (e) {\n                setResCard(0);\n                console.log(e);\n            }\n            document.body.removeChild(input);\n        };\n    }, [userId, setResCard]);\n\n    const card = useMemo(() => {\n        if (resCard) {\n            if (loading)\n                return <Loader/>\n            else if (!error && cat) {\n                return <CatCard cat={cat}/>\n            }\n        }\n        return <EmptyCatCard/>\n    }, [resCard, loading, error, cat]);\n\n    return (\n        <div className={classes.contentPink}>\n            <div className={classes.controls}>\n                <div className={classes.name}>Identify the breed</div>\n                <Button type={\"light\"} onClick={uploadPhoto}>Add photo</Button>\n            </div>\n            {card}\n        </div>\n    );\n}\n\nexport default IdentifyBreed;","import React, {useCallback, useState} from \"react\";\nimport classes from \"./Settings.module.css\"\nimport {useUser} from \"../../../context\";\nimport Button from \"../../Button/Button\";\nimport Axios from \"axios\";\n\ninterface Props {\n  email: string,\n}\n\n\nfunction Settings({email}: Props) {\n  const myUser = useUser();\n\n  const [editState, setEditState] = useState(false);\n  const [address, setAddress] = useState('');\n  const [oldPassword, setOldPassword] = useState('');\n  const [password, setPassword] = useState('');\n  const [repeatPass, setRepeatPass] = useState('');\n\n  const saveChanges = useCallback(async () => {\n    if (password === repeatPass) {\n      try {\n        await Axios.patch(`/users/${myUser.id}`, {\n          email: address,\n          password: password,\n        });\n      } catch (e) {\n        console.log(e);\n      }\n      setEditState(false);\n    }\n  }, [address, password, oldPassword, repeatPass, setEditState, myUser.id]);\n\n  return (\n    <div className={classes.content}>\n      {\n        editState ?\n          <div className={classes.block}>\n            <div>Settings</div>\n\n            <div className={classes.item}>E-mail: {email}</div>\n            <div>\n              <div className={classes.item}>Enter new address:</div>\n              <input type=\"text\" className={classes.field} onChange={e => setAddress(e.target.value)} />\n            </div>\n\n            <div>\n              <div className={classes.item}>Enter old password:</div>\n              <input type=\"password\" className={classes.field} onChange={e => setOldPassword(e.target.value)} />\n            </div>\n            <div>\n              <div className={classes.item}>Enter new password:</div>\n              <input type=\"password\" className={classes.field} onChange={e => setPassword(e.target.value)} />\n            </div>\n            <div>\n              <div className={classes.item}>Repeat new password:</div>\n              <input type=\"password\" className={classes.field} onChange={e => setRepeatPass(e.target.value)} />\n            </div>\n\n            <div className={classes.buttons}>\n              <Button type={\"dark\"} onClick={saveChanges}>Save</Button>\n              <Button type={\"dark\"} onClick={() => setEditState(false)}>Close</Button>\n            </div>\n          </div>\n          :\n            <Button type={\"dark\"} onClick={() => setEditState(true)}>Settings</Button>\n      }\n    </div>\n  );\n}\n\nexport default Settings;","import React, {useEffect, useMemo, useState} from \"react\";\nimport classes from \"./Profile.module.css\"\nimport Folders from \"./Folders/Folders\";\nimport UserInfo from \"./UserInfo/UserInfo\";\nimport IdentifyBreed from \"./IdentifyBreed/IdentifyBreed\";\nimport Settings from \"./Settings/Settings\";\nimport {useParams} from \"react-router\";\nimport {useUser} from \"../../context\";\nimport Loader from \"../Loader/Loader\";\nimport ServerError from \"../ServerError/ServerError\";\nimport {User} from \"../../store/AuthStore/types\";\nimport {useStores} from \"../../store/store\";\nimport useAxios from \"axios-hooks\";\nimport Button from \"../Button/Button\";\n\nfunction Profile() {\n    const params = useParams<{ id: string }>();\n    const myUser = useUser();\n    const isOwn = useMemo(() => {\n        return (params.id === myUser.id.toString());\n    }, [params.id, myUser.id]);\n    const {authStore} = useStores();\n    const {updateUser, signOut} = authStore;\n\n    const [user, setUser] = useState<User | undefined>(isOwn ? myUser : undefined);\n\n    // data loading (user)\n    const [{data, loading, error}] = useAxios<User>({url: `/users/${params.id}`}, {manual: isOwn});\n    // const {result, loading, error} = useAsync(useCallback(() => Axios.get<User>(`/users/${params.id}`), [params.id]));\n\n    useEffect(() => {\n        if (isOwn) {\n            setUser(myUser);\n        } else {\n            setUser(data);\n        }\n    }, [data, isOwn, myUser]);\n\n    if (user === undefined && loading) return <Loader/>;\n    if (user === undefined && error) return <ServerError message={error?.message ?? \"undefined user\"}/>;\n\n    if (!user) return <div>Error</div>\n\n    return (\n        <div className={classes.profile}>\n            <div className={classes.item}>\n                <UserInfo\n                    isOwn={isOwn}\n                    user={user!}\n                    refetchUser={updateUser}\n                />\n            </div>\n            {isOwn && <>\n                <div className={classes.item}>\n                    <Settings email={user.email}/>\n                </div>\n                <Button type={\"dark\"} onClick={signOut}>Sign Out</Button>\n                <div className={classes.item}>\n                    <IdentifyBreed userId={user.id}/>\n                </div>\n            </>}\n\n            <div className={classes.item}>\n                <Folders userId={user.id}/>\n            </div>\n        </div>\n    );\n}\n\nexport default Profile;\n","import CatsPage from \"../CatsPage/CatsPage\";\nimport React, {useCallback, useState} from \"react\";\nimport {useAsync} from \"../../helps/useAsync\";\nimport Axios from \"axios\";\nimport Loader from \"../Loader/Loader\";\nimport ErrorFeed from \"../CatsPage/ErrorFeed\";\nimport {CatsPhoto} from \"../../types\";\nimport classes from \"./SearchFeed.module.css\";\nimport Button from \"../Button/Button\";\nimport {useParams} from \"react-router\";\n\nfunction SearchFeed() {\n    const params = useParams<{ breed: string }>();\n    const [page, setPage] = useState(0);\n\n    // data loading (cats)\n    const {result, loading, error} = useAsync(useCallback(\n        () => Axios.get<CatsPhoto[]>(`/cats/${params.breed}`, {\n            params: {\n                offset: (page * 15),\n                limit: 15\n            }\n        }), [params, page]));\n\n    if (loading) return <Loader/>;\n    if (!result || error || !result.data.length) return <div><ErrorFeed/></div>;\n\n    const {data: cats} = result;\n\n    return (\n        <div className={classes.container}>\n            <div className={classes.header}>\n                <span className={classes.name}>\n                    {params.breed}\n                </span>\n                <div className={classes.controls}>\n                    <Button type={\"dark\"} onClick={() => setPage((page > 0 ? page - 1 : 0))}>\n                        <i className=\"fas fa-arrow-left\"/>\n                    </Button>\n                    <div className={classes.page}>{page + 1}</div>\n                    <Button type={\"dark\"} onClick={() => setPage(page + 1)}>\n                        <i className=\"fas fa-arrow-right\"/>\n                    </Button>\n                </div>\n            </div>\n            <CatsPage cats={cats.slice(0, 15)}/>\n        </div>\n    )\n}\n\nexport default SearchFeed;","import CatsPage from \"../CatsPage/CatsPage\";\nimport React, {useCallback, useState} from \"react\";\nimport {useAsync} from \"../../helps/useAsync\";\nimport Axios from \"axios\";\nimport Loader from \"../Loader/Loader\";\nimport ErrorFeed from \"../CatsPage/ErrorFeed\";\nimport {useParams} from \"react-router\";\nimport {CatsPhoto} from \"../../types\";\nimport classes from \"./FolderFeed.module.css\";\nimport Button from \"../Button/Button\";\n\nfunction FolderFeed() {\n    const params = useParams<{ id: string, breed: string }>();\n    const [page, setPage] = useState(0);\n\n    // data loading (cats)\n    const {result, loading, error} = useAsync(useCallback(\n        () => Axios.get<CatsPhoto[]>(`/users/${params.id}/cats/${params.breed}`, {\n            params: {\n                offset: (page * 15),\n                limit: 15\n            }\n        }), [params, page]));\n\n    if (loading) return <Loader/>;\n    if (!result || error || !result.data.length) return <div><ErrorFeed/></div>;\n\n    const {data: cats} = result;\n\n    return (\n        <div className={classes.container}>\n            <div className={classes.header}>\n                <div className={classes.name}>\n                    <span>{params.id}</span>\n                    <span> > </span>\n                    <span>{params.breed}</span>\n                </div>\n                <div className={classes.controls}>\n                    <Button type={\"dark\"} onClick={() => setPage((page > 0 ? page - 1 : 0))}>\n                        <i className=\"fas fa-arrow-left\"/>\n                    </Button>\n                    <div className={classes.page}>{page + 1}</div>\n                    <Button type={\"dark\"} onClick={() => setPage(page + 1)}>\n                        <i className=\"fas fa-arrow-right\"/>\n                    </Button>\n                </div>\n            </div>\n            <CatsPage cats={cats.slice(0, 15)}/>\n        </div>\n    )\n}\n\nexport default FolderFeed;","import {Redirect, Route, Switch} from \"react-router-dom\";\nimport TopBar from \"./TopBar/TopBar\";\nimport CatsFeed from \"./CatsFeed/CatsFeed\";\nimport Profile from \"./Profile/Profile\";\nimport React from \"react\";\nimport SearchFeed from \"./SearchFeed/SearchFeed\";\nimport ErrorFeed from \"./CatsPage/ErrorFeed\";\nimport FolderFeed from \"./FolderFeed/FolderFeed\";\n\nfunction MainApp() {\n    return (\n        <div className=\"App\">\n            <TopBar/>\n            <Switch>\n                <Route path={\"/breed/:breed\"} exact><SearchFeed/></Route>\n                <Route path={\"/breed\"} exact><ErrorFeed/></Route>\n                <Route path={\"/:id/folder/:breed\"} exact><FolderFeed/></Route>\n                <Route path={\"/:id\"} exact><Profile/></Route>\n                <Route path={\"/\"}><CatsFeed/></Route>\n                <Redirect to={\"/404\"}/>\n            </Switch>\n        </div>\n    );\n}\n\nexport default MainApp;","import React from \"react\";\nimport \"./App.css\";\nimport {BrowserRouter, Redirect, Route, Switch} from \"react-router-dom\";\nimport {UserProvider} from \"../context\";\nimport MainPage from \"./SignInSignUp/MainPage\";\nimport NotFound from \"./404/404\";\nimport MainApp from \"./MainApp\";\nimport {useStores} from \"../store/store\";\nimport {observer} from \"mobx-react-lite\";\nimport {toJS} from \"mobx\";\n\nfunction App() {\n    const {authStore} = useStores();\n    const {user} = authStore;\n\n    return (\n        <div className=\"App\">\n            <BrowserRouter>\n                <Switch>\n                    <Route path={\"/404\"} exact><NotFound/></Route>\n                    {user ? <UserProvider value={toJS(user)}><MainApp/></UserProvider> : <MainPage/>}\n                    <Redirect to={\"/404\"}/>\n                </Switch>\n            </BrowserRouter>\n        </div>\n    );\n}\n\nexport default observer(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\",\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import \"mobx-react-lite/batchingForReactDom\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"normalize.css/normalize.css\"\nimport \"./index.css\";\nimport App from \"./Components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport {StoresProvider} from \"./store/store\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <StoresProvider>\n            <App/>\n        </StoresProvider>\n    </React.StrictMode>,\n    document.getElementById(\"root\"),\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}